# p2pchating
学校布置的作业 p2p聊天系统 qt写的界面 C++实现



学校布置的作业，代码简单易懂，没啥好说的



### 先说下实现思路

服务器端用的网络编程那一套，加了个多线程，每个新用户上线之后都是一个新进程提供服务。服务器负责维护一个用户信息表，里面有昵称，ip，port，上线时间以及是否在线之类的东西。



客户端，启动的时候链接服务器，登录时把用户名发送给服务器，服务器负责做验证，返回登录成功之后进入聊天界面。

聊天功能的实现基于每3秒想服务器请求一次在线用户列表，而列表里面包含了对应在线用户的ip和端口。每个客户端想要人沟通的时候启动监听，这时候其他人可以连上他进行交流。



### 使用方法

p2pchating 是客户端，用qt打开编译即可

p2pchatingServer 是服务器，用了cmake，在build文件夹下清除我的信息之后cmake即可



### 放两个运行截图

![1541841945340](C:\Users\IMMORT~1\AppData\Local\Temp\1541841945340.png)



![1541841961882](C:\Users\IMMORT~1\AppData\Local\Temp\1541841961882.png)



### 源码都在github上，地址

https://github.com/xixihahag/p2pchating